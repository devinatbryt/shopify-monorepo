<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vite + TS</title>
    <script type="text/javascript">
      window.loadScript = (function () {
        var loadedScripts = new Map();
        return function (url, type, callback) {
          if (
            loadedScripts.has(url) &&
            loadedScripts.get(url) &&
            typeof callback !== "undefined"
          )
            return callback();
          loadedScripts.set(url, false);
          var script = document.querySelector(`script[src="${url}"]`);
          if (!script) {
            script = document.createElement("script");
            script.type = type || "text/javascript";
            script.src = url;
            addLoadFunctions();
            document.getElementsByTagName("head")[0].appendChild(script);
            return;
          }

          return addLoadFunctions();

          function addLoadFunctions() {
            function handleLoad() {
              loadedScripts.set(url, true);
              script.removeEventListener("load", handleLoad);
              if (typeof callback === "undefined") return;
              callback();
            }
            script.addEventListener("load", handleLoad);
          }
        };
      })();
    </script>
    <script type="text/javascript">
      if (!window.Shopify) window.Shopify = {};
      window.Shopify.storefrontConfig = {
        shopDomain: "awesome-bryt-apps.myshopify.com",
        apiVersion: "2024-04",
        accessToken: "c5e7d6954b84975963e596e273405c8b",
      };
    </script>
  </head>
  <style>
    gnav-header {
      position: sticky;
      display: block;
      top: 0;
      left: 0;
      right: 0;
      width: 100%;
      pointer-events: none;
    }

    gnav-header gnav-header-section {
      pointer-events: all;
    }

    gnav-header-section {
      padding: 1rem;
      display: block;
      border-bottom: 1px solid lightgray;
    }

    body {
      height: 500vh;
      margin: 0;
      box-sizing: border-box;
    }
  </style>
  <body>
    <!-- <gnav-header>
      <gnav-header-section style="background: beige"
        >Banner!</gnav-header-section
      >
      <gnav-header-section hide-on-trigger>Hello</gnav-header-section>
      <gnav-header-section hide-on-trigger>Hello</gnav-header-section>
    </gnav-header>
    <drawer-trigger target="#test" action="toggle" on="click">
      <button>Open me</button>
    </drawer-trigger>
    <drawer-context is-open="true" id="test">
      <drawer-backdrop></drawer-backdrop>
      <drawer-content> Hello world </drawer-content>
    </drawer-context>
    <cart-context debug="true"></cart-context>
    <script type="module" src="./src/components/gnav-header/index.ts"></script>
    <script type="module" src="./src/components/drawer/index.ts"></script>
    <script
      type="module"
      src="./src/components/storefront-cart/index.ts"
    ></script> -->
    <hash-router>
      <template data-path="/">
        <template data-path="/">
          <template data-component>
            <h1>Home</h1>
          </template>
        </template>
        <template data-path="/step-2">
          <template data-component>
            <h1>Step 2</h1>
            <hash-router-link href="/step-3">
              <a>Visit step 3</a>
            </hash-router-link>
          </template>
        </template>
        <template data-path="/step-3">
          <template data-component>
            <h1>Step 3</h1>
          </template>
        </template>
        <template data-component>
          <nav>
            <ul>
              <li>
                <hash-router-link
                  active-class="active"
                  inactive-class="inactive"
                  href="/"
                >
                  <a>Home</a>
                </hash-router-link>
                <hash-router-link href="/step-2">
                  <a>Next step</a>
                </hash-router-link>
              </li>
            </ul>
          </nav>
          <slot name="children"></slot>
        </template>
      </template>
    </hash-router>
    <script type="module" src="./src/components/hash-router/index.ts"></script>
  </body>
</html>
